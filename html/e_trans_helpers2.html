<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>e_trans_helpers2</title>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    }
  });
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML" async>
  </script>
  
  <link href="lecture.css" rel="stylesheet">
  
  <link href="colorful.css" rel="stylesheet">
  

</head>
<body>
<div id="wrapper">
<div id="content">
<div class="definition_wrapper">
  <span class="definition_label">Definition</span>
  <div class="definition_content">
    <div class="definition_text">
      For any integer polynomial $f$ and $n\in\mathbb N$ we define `deriv_n f n` to be the $n$-th derivative of polynomial $f$. $h^{[n]}$ means $h\circ h\circ h\cdots\circ h$ $n$-times.

    </div>
    <div class="definition_lean">
     <div class="highlight"><pre><span></span><span class="n">def</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span> <span class="o">:=</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">^</span><span class="o">[</span><span class="n">n</span><span class="o">]</span> <span class="n">f</span>
</pre></div>
   
    </div>
  </div>
</div>
<div class="lemma_wrapper">
  <span class="lemma_label">Lemma</span>
  <div class="lemma_content">
	<div class="lemma_text">
	  <p>the zeroth derivative of polynomial $f$ is $f$ itself.</p>

	</div>

	<div class="lemma_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">zeroth_deriv</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">:</span> <span class="n">deriv_n</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">This is purely definition of <code>deriv_n f n</code> We also used $f^{[n]}=\mathrm{id}$ and $\mathrm{id} x = x$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">deriv_n</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">id</span><span class="bp">.</span><span class="n">def</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">iterate_zero</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">f</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="lemma_wrapper">
  <span class="lemma_label">Lemma</span>
  <div class="lemma_content">
	<div class="lemma_text">
	  <p>the derivative of $f^{(n)}$ is $f^{(n+1)}$</p>

	</div>

	<div class="lemma_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">deriv_succ</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">=</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">By definition and $h^{[n+1]}=h\circ h^{[n]}$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="o">[</span><span class="n">deriv_n</span><span class="o">,</span> <span class="n">deriv_n</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">iterate_succ&#39;</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">=</span> <span class="n">deriv_n</span> <span class="n">f</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="lemma_wrapper">
  <span class="lemma_label">Lemma</span>
  <div class="lemma_content">
	<div class="lemma_text">
	  <p>the $n$-th derivative of zero polynomial is $0$</p>

	</div>

	<div class="lemma_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">deriv_zero_p</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">deriv_n</span> <span class="mi">0</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">We prove by induction. Base case and inductive case can all be done with <code>simp</code></span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">hn</span><span class="bp">;</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">deriv_n</span><span class="o">,</span> <span class="n">id</span><span class="bp">.</span><span class="n">def</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">iterate_zero</span><span class="o">],</span> <span class="n">rw</span> <span class="bp">&lt;-</span><span class="n">deriv_n</span><span class="o">,</span> <span class="n">assumption</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="mi">0</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="lemma_wrapper">
  <span class="lemma_label">Lemma</span>
  <div class="lemma_content">
	<div class="lemma_text">
	  <p>If the $n$-th coefficient of $f$ is $a_n$, then the $n$-th coefficient in $f^{(k)}$ is $\left(\prod_{i=0}^{k-1} (n+k-i)\right)a_{n+k}$</p>
<pre><code>
</code></pre>

	</div>

	<div class="lemma_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">deriv_n_coeff</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">k</span><span class="bp">-</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">k</span><span class="o">))</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">So we use induction on $k$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">induction</span> <span class="n">k</span> <span class="k">with</span> <span class="n">k</span> <span class="n">ih</span><span class="o">,</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">zero</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="mi">0</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="mi">0</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">0</span><span class="o">)</span>

<span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span>
    <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span>
      <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">For the zeroth derivative, $f^{(0)}=f$. This case is true by <code>simp</code>.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">add_zero</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">nat_zero_eq_zero</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">,</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range_zero</span><span class="o">,</span> <span class="n">finset</span><span class="bp">.</span><span class="n">prod_empty</span><span class="o">],</span> <span class="n">rw</span> <span class="n">deriv_n</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">forall_const</span><span class="o">,</span> <span class="n">id</span><span class="bp">.</span><span class="n">def</span><span class="o">,</span> <span class="n">eq_self_iff_true</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">iterate_zero</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">zero</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="mi">0</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="mi">0</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">0</span><span class="o">)</span>

<span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span>
    <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span>
      <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span>
    <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span>
      <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Let us assume our claim is true for $k$ and consider the $m$-th coefficient.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">intro</span> <span class="n">m</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span>
    <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span>
      <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">m</span> <span class="bp">=</span>
    <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">We know that $f^{(k+1)}=\left(f^{(k)}\right)'$ and for any polynomial $g$, the $m$-th coefficient of $g'$ is $(m+1)\times (m+1)$-th coefficient of $g$. Then we can use induction hypothesis with $m+1$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="o">[</span><span class="n">deriv_n</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">iterate_succ&#39;</span><span class="o">],</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">function</span><span class="bp">.</span><span class="n">comp_app</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_succ</span><span class="o">],</span> <span class="n">rw</span> <span class="bp">&lt;-</span><span class="n">deriv_n</span><span class="o">,</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">m</span> <span class="bp">=</span>
    <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">m</span> <span class="bp">=</span>
    <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">coeff_derivative</span><span class="o">,</span> <span class="n">rw</span> <span class="n">ih</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">m</span> <span class="bp">=</span>
    <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">finset</span><span class="bp">.</span><span class="n">prod_range_succ</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_succ</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">nat_cast_eq_coe_nat</span><span class="o">],</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">The rest of the proves are trivial to a pair of human eyes. But we need to give computers some hint to solve this triviality.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">triv</span> <span class="o">:</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">((</span><span class="n">m</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span>
  <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span>
  <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">apply</span> <span class="n">congr_arg</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">sub_left_inj</span><span class="o">],</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span> <span class="n">rw</span> <span class="n">triv</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span>
  <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">replace</span> <span class="n">triv</span> <span class="o">:</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="n">k</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="n">k</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span>
  <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span>
  <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span>
  <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span>
  <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">add_sub_assoc</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">add_sub_cancel&#39;</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span>
  <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span> <span class="n">rw</span> <span class="n">triv</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">replace</span> <span class="n">triv</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
<span class="err">⊢</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
<span class="err">⊢</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
<span class="err">⊢</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_eq_add_one</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span>
<span class="err">⊢</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">triv</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="err">↑</span><span class="n">k</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
<span class="err">⊢</span> <span class="o">(</span><span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">=</span>
    <span class="o">((</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="err">∏</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="err">↑</span><span class="n">m</span> <span class="bp">+</span> <span class="o">(</span><span class="err">↑</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="err">↑</span><span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="lemma_wrapper">
  <span class="lemma_label">Lemma</span>
  <div class="lemma_content">
	<div class="lemma_text">
	  <p>Like first derivative, higher derivatives still respect addition</p>

	</div>

	<div class="lemma_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">deriv_n_add</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span><span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span><span class="bp">+</span><span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="lemma_wrapper">
  <span class="lemma_label">Lemma</span>
  <div class="lemma_content">
	<div class="lemma_text">
	  <p>For any polynomial $f$ with degree $d$, the $d+1$-th derivative is zero.</p>

	</div>

	<div class="lemma_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">deriv_too_much</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]):</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">We prove that all coefficient of $f^{(d+1)}$ is zero.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">ext</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="n">f</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">0</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">We use lemma <code>deriv_n_coeff</code> and all coefficient of zero polynomial is $0$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">deriv_n_coeff</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_succ</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">coeff_zero</span><span class="o">,</span> <span class="n">mul_eq_zero</span><span class="o">],</span> <span class="n">right</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">0</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Then the problem reduces to prove that $d+1$-th coeffcient of $f$ is zero. But $f$ has degree $d$. So we just need $d&lt; d+1$. This is proved by <code>linarith</code>.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">coeff_eq_zero_of_nat_degree_lt</span><span class="o">,</span> <span class="n">linarith</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="lemma_wrapper">
  <span class="lemma_label">Lemma</span>
  <div class="lemma_content">
	<div class="lemma_text">
	  <p>if $i+1\le n$ then $n-(i+1)+1=n-i$</p>

	</div>

	<div class="lemma_lean">
	  <div class="highlight"><pre><span></span><span class="kn">private</span> <span class="kn">lemma</span> <span class="n">nat_sub_eq</span> <span class="o">(</span><span class="n">n</span> <span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">i</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="lemma_wrapper">
  <span class="lemma_label">Lemma</span>
  <div class="lemma_content">
	<div class="lemma_text">
	  <p>We have the pascal triangle</p>
<p>
\[{n\choose k+1}+{n\choose k} = {n+1\choose k+1}\]
</p>


	</div>

	<div class="lemma_lean">
	  <div class="highlight"><pre><span></span><span class="kn">private</span> <span class="kn">lemma</span> <span class="n">pascal_triangle</span> <span class="o">(</span><span class="n">n</span> <span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">k</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">k</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">This is actually how <code>mathlib</code> defined binomial coefficient.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">exact</span> <span class="n">add_comm</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">choose</span> <span class="n">n</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">choose</span> <span class="n">n</span> <span class="n">k</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span> <span class="bp">=</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">We prove by induction on $n$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">IH</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">zero</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="mi">0</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="mi">1</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="mi">0</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>

<span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">For $n=0$, we are using <code>zeroth_deriv</code>.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">zeroth_deriv</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">choose_self</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_coe_nat</span><span class="o">,</span> <span class="n">ring_hom</span><span class="bp">.</span><span class="n">eq_int_cast</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_one</span><span class="o">,</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_singleton</span><span class="o">,</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range_one</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">zero</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="mi">0</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="mi">1</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="mi">0</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>

<span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">For inductive case We use $(pq)^{(n+1)}=d(pq)^{(n)} $, inductive hypothesis and that derivative is linear.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">deriv_n</span><span class="o">,</span> <span class="n">rw</span> <span class="n">function</span><span class="bp">.</span><span class="n">iterate_succ&#39;</span><span class="o">,</span> <span class="n">dsimp</span><span class="o">,</span> <span class="n">rw</span> <span class="bp">&lt;-</span><span class="n">deriv_n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">IH</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">derivative_sum</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">derivative_mul</span><span class="o">,</span> <span class="n">zero_mul</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">derivative_C</span><span class="o">,</span> <span class="n">zero_add</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">derivative_sum</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">derivative_mul</span><span class="o">,</span> <span class="n">zero_mul</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">derivative_C</span><span class="o">,</span> <span class="n">zero_add</span><span class="o">],</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">b</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">b</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">The rest of the proves is essentially openning and closing brackets and renaming summing indeces.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_add_distrib</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">b</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">b</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span> <span class="bp">+</span>
      <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">conv_lhs</span> <span class="o">{</span><span class="n">rw</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_range_succ&#39;</span><span class="o">,</span> <span class="n">rw</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_range_succ</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">zeroth_deriv</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">choose_self</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">choose_zero_right</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_zero</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">sub_self</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">C_1</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_succ</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">sub_zero</span><span class="o">,</span> <span class="n">zero_add</span><span class="o">]},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span> <span class="bp">+</span>
      <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">eq</span> <span class="o">:</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>          <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>          <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">))</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="o">[</span><span class="n">eq</span><span class="o">,</span> <span class="bp">&lt;-</span><span class="n">finset</span><span class="bp">.</span><span class="n">sum_add_distrib</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">replace</span> <span class="n">eq</span> <span class="o">:</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>           <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">))</span> <span class="bp">=</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>           <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)))),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>

<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>

<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">apply</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_congr</span><span class="o">,</span> <span class="n">exact</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">intros</span> <span class="n">i</span> <span class="n">hi</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">deriv_succ</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_coe_nat</span><span class="o">,</span> <span class="n">ring_hom</span><span class="bp">.</span><span class="n">eq_int_cast</span><span class="o">,</span> <span class="n">add_left_inj</span><span class="o">],</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">finset</span><span class="bp">.</span><span class="n">mem_range</span><span class="o">]</span> <span class="n">at</span> <span class="n">hi</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">),</span>
<span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hi</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">&lt;</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">replace</span> <span class="n">hi</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">hi</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">),</span>
<span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hi</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">&lt;</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">),</span>
<span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hi</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">rw</span> <span class="n">nat_sub_eq</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">hi</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
         <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
           <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
        <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
          <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
          <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">),</span>
<span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hi</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">i</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span> <span class="n">rw</span> <span class="n">eq</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">replace</span> <span class="n">eq</span> <span class="o">:</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>           <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">))))</span> <span class="bp">=</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">((</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">+</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>

<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>

<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
           <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">apply</span> <span class="n">congr_arg</span><span class="o">,</span> <span class="n">rw</span> <span class="n">function</span><span class="bp">.</span><span class="n">funext_iff</span><span class="o">,</span> <span class="n">intro</span> <span class="n">i</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span> <span class="n">rw</span> <span class="n">eq</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">replace</span> <span class="n">eq</span> <span class="o">:</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">((</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">+</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span> <span class="bp">=</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">((</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>

<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>

<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
          <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">apply</span> <span class="n">congr_arg</span><span class="o">,</span> <span class="n">rw</span> <span class="n">function</span><span class="bp">.</span><span class="n">funext_iff</span><span class="o">,</span> <span class="n">intro</span> <span class="n">i</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">int</span><span class="bp">.</span><span class="n">cast_add</span><span class="o">,</span> <span class="n">ring_hom</span><span class="bp">.</span><span class="n">eq_int_cast</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
         <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span> <span class="n">rw</span> <span class="n">eq</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">replace</span> <span class="n">eq</span> <span class="o">:</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">((</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)))</span> <span class="bp">=</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">((</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">((</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>

<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>

<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">apply</span> <span class="n">congr_arg</span><span class="o">,</span> <span class="n">rw</span> <span class="n">function</span><span class="bp">.</span><span class="n">funext_iff</span><span class="o">,</span> <span class="n">intro</span> <span class="n">i</span><span class="o">,</span> <span class="n">rw</span> <span class="bp">&lt;-</span><span class="n">pascal_triangle</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_add</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="o">(</span><span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span>
        <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span> <span class="n">rw</span> <span class="n">eq</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">conv_rhs</span> <span class="o">{</span><span class="n">rw</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_range_succ&#39;</span><span class="o">,</span> <span class="n">rw</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_range_succ</span><span class="o">},</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">deriv_succ</span><span class="o">,</span> <span class="n">zeroth_deriv</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_eq_add_one</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">choose_self</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_coe_nat</span><span class="o">,</span> <span class="n">ring_hom</span><span class="bp">.</span><span class="n">eq_int_cast</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_sub_succ_eq_sub</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">choose_zero_right</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_zero</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">sub_self</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_one</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_succ</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">sub_zero</span><span class="o">,</span> <span class="n">zero_add</span><span class="o">],</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">IH</span> <span class="o">:</span>
  <span class="n">deriv_n</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="n">n</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">choose</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
        <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span>
        <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
      <span class="o">((</span><span class="n">deriv_n</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">q</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span>
      <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span>
      <span class="err">⇑</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="err">↑</span><span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">p</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv_n</span> <span class="n">q</span> <span class="n">k</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">}</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>For a polynomial $f$ then if $n&gt;0$, we have $f^{(n)}=f^{(n-1)}\times f'$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">poly_pow_deriv</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">f</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">derivative</span> <span class="bp">=</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span><span class="bp">-</span><span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>fundamental theorem of calculus and integration by part is assumed. I am waiting for them to arrive in <code>mathlib</code> and I will update this part and prove relatvent additional assumptions.</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">private</span> <span class="kn">lemma</span> <span class="n">ftc1</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">-&gt;</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">{</span><span class="n">hf</span> <span class="o">:</span> <span class="n">measurable</span> <span class="n">f</span><span class="o">}</span> <span class="o">{</span><span class="n">hf2</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">f</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span><span class="n">hf3</span> <span class="o">:</span> <span class="n">measure_theory</span><span class="bp">.</span><span class="n">integrable_on</span> <span class="n">f</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">)}</span> <span class="o">(</span><span class="n">x0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hx0</span> <span class="o">:</span> <span class="n">x0</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> 
  <span class="n">has_deriv_at</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">a</span><span class="bp">..</span><span class="n">b</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">x0</span><span class="o">)</span> <span class="n">x0</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>Let $f,g:\mathbb R\to\mathbb R$ be measurable and integral functions such that $\forall x\in(a,b),0\le f(x)\le g(x)$, then
$$
\int_a^b f(x)\mathrm{d}x\le\int_a^b g(x)\mathrm{d}x
$$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="c1">-- theorem integral_le_integral&#39; (f g : ℝ -&gt; ℝ) {h1 : measurable f ∧ measurable g ∧ measure_theory.integrable f ∧ measure_theory.integrable g} (a b : ℝ) (h : b ≥ a) (hf : ∀ x ∈ set.Icc a b, f x ≤ g x ∧ 0 ≤ f x) : (∫ x in set.Icc a b, f x) ≤ (∫ x in set.Icc a b, g x) :=</span>
<span class="c1">-- begin</span>
<span class="c1">--     -- `mathlib` has `measure_theory.integral_le_integral` built in, but it is not for set integral.</span>
<span class="c1">--     -- So we apply this theorem to `((set.Icc a b).indicator f)` and `((set.Icc a b).indicator g)`</span>
<span class="c1">--     -- `s.indicator f` is the function  (λ x, if x ∈ s then f x else 0)</span>
<span class="c1">--     -- We need to prove `((set.Icc a b).indicator f)` and `((set.Icc a b).indicator g)` are measurable and integrable.</span>
<span class="c1">--     -- These are pretty much built in.</span>
<span class="c1">--     apply measure_theory.integral_mono,</span>
<span class="c1">--     exact h1.left,</span>
<span class="c1">--     -- apply @measure_theory.integral_le_integral ℝ _ ((set.Icc a b).indicator f) ((set.Icc a b).indicator g),</span>
<span class="c1">--     dsimp only [],</span>
<span class="c1">--     -- library_search [h1],</span>
<span class="c1">--     exact h1.2.2.1,</span>
<span class="c1">--     apply measurable.if, apply is_measurable_Icc, </span>
<span class="c1">--     dsimp, exact h1.1, exact measurable_zero,</span>
<span class="c1">--     apply measure_theory.integrable.integrable_on, exact h1.2.2.1,</span>
<span class="c1">--     simp [set.indicator],</span>
<span class="c1">--     apply measurable.if, apply is_measurable_Icc, dsimp, exact h1.2.1, exact measurable_zero,</span>
<span class="c1">--     apply measure_theory.integrable.integrable_on, exact h1.2.2.2,</span>
<span class="c1">--     intros c, simp [set.indicator], split_ifs, exact (hf c ⟨h_1.1, h_1.2⟩).1, exact le_refl 0,</span>
<span class="c1">-- end</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>integrations on a set $S$ of two identical functions are indentical</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">same_integral</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">-&gt;</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">g</span> <span class="bp">-&gt;</span> <span class="o">(</span><span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="n">S</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="n">S</span><span class="o">,</span> <span class="n">g</span> <span class="n">x</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>integrations of two identical functions are indentical</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">same_integral&#39;</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">-&gt;</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">g</span> <span class="bp">-&gt;</span> <span class="o">(</span><span class="err">∫</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="err">∫</span> <span class="n">x</span><span class="o">,</span> <span class="n">g</span> <span class="n">x</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>identical function have identical derivatives</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">same_deriv</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">-&gt;</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">g</span> <span class="bp">-&gt;</span> <span class="n">deriv</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="n">g</span> <span class="n">x</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">congr_fun</span> <span class="o">(</span><span class="n">congr_arg</span> <span class="n">deriv</span> <span class="n">h</span><span class="o">)</span> <span class="n">x</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>If forall $x\in(a,b), 0 \le f(x)\le c$ then
$$
\int_a^b f\le (b-a)c
$$</p>
<pre><code>
</code></pre>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">integral_le_max_times_length</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">-&gt;</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">{</span><span class="n">h1</span> <span class="o">:</span> <span class="n">measurable</span> <span class="n">f</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≥</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> 
    <span class="o">(</span><span class="n">f_nonneg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">c_max</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">c</span><span class="o">)</span> <span class="o">:</span> 
    <span class="o">(</span><span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="n">a</span><span class="bp">..</span><span class="n">b</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">b</span> <span class="bp">-</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">c</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>$$
\frac{\mathrm{d}\exp(t-x)}{\mathrm{d}x}=-\exp(t-x)
$$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">deriv_exp_t_x</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">))</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>$$
\frac{\mathrm{d}-\exp(t-x)}{\mathrm{d}x}=\exp(t-x)
$$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">deriv_exp_t_x&#39;</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">-</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">))))</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">))</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="definition_wrapper">
  <span class="definition_label">Definition</span>
  <div class="definition_content">
    <div class="definition_text">
      Suppose $f$ is an integer polynomial with degree $n$ and $t\ge0$ then define
    \[I(f,t):=\int_0^t \exp(t-x)f(z)\mathrm{d}x\]
We use integration by parts to prove
    \[I(f,t)=\exp(t)\left(\sum_{i=0}^n f^{(i)}(0)\right)-\sum_{i=0}^n f^{(i)}(t)\]

The two different ways of representing $I(f,t)$ we give us upper bound and lower bound when we are using this on transcendence of $e$.

    </div>
    <div class="definition_lean">
     <div class="highlight"><pre><span></span><span class="n">def</span> <span class="n">I</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">:=</span> 
    <span class="n">t</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="o">(</span><span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="mi">0</span><span class="o">))</span> <span class="bp">-</span> <span class="o">(</span><span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span><span class="bp">.</span><span class="n">succ</span><span class="o">,</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="n">t</span><span class="o">))</span>
</pre></div>
   
    </div>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>$I(0,t)$ is 0.</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">II_0</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">II</span> <span class="mi">0</span> <span class="n">t</span> <span class="n">ht</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">We are integrating $\exp(t-x)\times 0$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">II</span><span class="o">,</span> <span class="n">unfold</span> <span class="n">f_eval_on_ℝ</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">II</span> <span class="mi">0</span> <span class="n">t</span> <span class="n">ht</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_zero</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">eval_zero</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">map_zero</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">interval_integral</span><span class="bp">.</span><span class="n">integral_of_le</span> <span class="n">ht</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">measure_theory</span><span class="bp">.</span><span class="n">integral_zero</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>By integration by part we have:</p>
<p>
\[I(f, t) = e^tf(0)-f(t)+I(f',t)\]


    
    

    

</p>


	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">II_integrate_by_part</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> 
    <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">-</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">We have $$\int_0^t \exp(t-x)f(x)\mathrm{d}x=\int_0^t f(x)\frac{\mathrm{d}}{\mathrm{d}x}(-\exp(t-x))\mathrm{d}x$$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">eq</span> <span class="o">:</span> <span class="o">(</span><span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">-</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">)))</span> <span class="n">x</span><span class="o">)),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">apply congr_arg,</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">interval_integral</span><span class="bp">.</span><span class="n">integral_of_le</span> <span class="n">ht</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">interval_integral</span><span class="bp">.</span><span class="n">integral_of_le</span> <span class="n">ht</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">apply</span> <span class="n">same_integral</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">deriv_exp_t_x&#39;</span><span class="o">],</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">eq</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Apply integration by part to $$\int_0^t f(x)\frac{\mathrm{d}}{\mathrm{d}x}(-\exp(t-x))\mathrm{d}x$$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">replace</span> <span class="n">eq</span> <span class="o">:=</span> <span class="n">integrate_by_part</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span><span class="o">)</span> <span class="mi">0</span> <span class="n">t</span> <span class="n">ht</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">eq</span><span class="o">,</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_one</span><span class="o">,</span> <span class="n">neg_sub_neg</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp_zero</span><span class="o">,</span> <span class="n">sub_zero</span><span class="o">,</span> <span class="n">mul_neg_eq_neg_mul_symm</span><span class="o">,</span> <span class="n">sub_self</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">replace</span> <span class="n">eq</span> <span class="o">:</span> <span class="o">(</span><span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span><span class="o">))</span> <span class="bp">=</span> <span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">((</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span><span class="o">))</span> <span class="n">x</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">10</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">10</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">interval_integral</span><span class="bp">.</span><span class="n">integral_of_le</span> <span class="n">ht</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="mi">0</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">eq</span><span class="o">,</span> <span class="n">rw</span> <span class="n">interval_integral</span><span class="bp">.</span><span class="n">integral_neg</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">sub_neg_eq_add</span><span class="o">],</span> <span class="n">rw</span> <span class="n">II</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">-</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">II</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">t</span> <span class="n">ht</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">replace</span> <span class="n">eq</span> <span class="o">:</span> <span class="o">(</span><span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">9</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">10</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">10</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="mi">0</span> <span class="bp">-</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">+</span>
      <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">interval_integral</span><span class="bp">.</span><span class="n">integral_of_le</span> <span class="n">ht</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">interval_integral</span><span class="bp">.</span><span class="n">integral_of_le</span> <span class="n">ht</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">apply</span> <span class="n">same_integral</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span> <span class="n">rw</span> <span class="n">f_eval_on_ℝ</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="n">set</span><span class="bp">.</span><span class="n">Ioc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">derivative_emb</span><span class="o">,</span> <span class="n">rw</span> <span class="bp">&lt;-</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">deriv</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">triv</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="err">⊢</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="err">⊢</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="err">⊢</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">apply</span> <span class="n">same_deriv</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">rw</span> <span class="n">f_eval_on_ℝ</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="err">⊢</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">triv</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="bp">-</span><span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">))</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span> <span class="n">rw</span> <span class="n">eq</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">8</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">differentiable</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">8</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">measurable</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="bp">@</span><span class="n">differentiable</span><span class="bp">.</span><span class="n">continuous</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">f_eval_on_ℝ_deriv</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">differentiable</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">6</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">measurable</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">6</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">6</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="bp">@</span><span class="n">differentiable</span><span class="bp">.</span><span class="n">continuous</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">6</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">6</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">differentiable</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">6</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">f_eval_on_ℝ_deriv</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="bp">@</span><span class="n">differentiable</span><span class="bp">.</span><span class="n">continuous</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">differentiable</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span><span class="bp">.</span><span class="n">derivative</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">neg</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">change</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">))),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">comp</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">exact</span> <span class="n">real</span><span class="bp">.</span><span class="n">differentiable_exp</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span><span class="bp">-</span><span class="n">t</span><span class="o">)),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">ext</span> <span class="n">y</span><span class="o">,</span> <span class="n">rw</span> <span class="n">neg_sub</span><span class="o">,</span> <span class="n">rw</span> <span class="n">this</span><span class="o">,</span> <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">neg</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">sub_const</span><span class="o">,</span> <span class="n">exact</span> <span class="n">differentiable_id&#39;</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">measurable</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">deriv_exp_t_x&#39;</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">change</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">))),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">comp</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">continuous_exp</span><span class="o">)</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="bp">@</span><span class="n">differentiable</span><span class="bp">.</span><span class="n">continuous</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span><span class="bp">-</span><span class="n">t</span><span class="o">)),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">ext</span> <span class="n">y</span><span class="o">,</span> <span class="n">rw</span> <span class="n">neg_sub</span><span class="o">,</span> <span class="n">rw</span> <span class="n">this</span><span class="o">,</span> <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">neg</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">sub_const</span><span class="o">,</span> <span class="n">exact</span> <span class="n">differentiable_id&#39;</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">measurable</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">neg</span> <span class="bp">_</span><span class="o">,</span> <span class="n">exact</span> <span class="n">normed_top_group</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">change</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">))),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">comp</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">continuous_exp</span><span class="o">)</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="bp">@</span><span class="n">differentiable</span><span class="bp">.</span><span class="n">continuous</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span><span class="bp">-</span><span class="n">t</span><span class="o">)),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">ext</span> <span class="n">y</span><span class="o">,</span> <span class="n">rw</span> <span class="n">neg_sub</span><span class="o">,</span> <span class="n">rw</span> <span class="n">this</span><span class="o">,</span> <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">neg</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">sub_const</span><span class="o">,</span> <span class="n">exact</span> <span class="n">differentiable_id&#39;</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">deriv_exp_t_x&#39;</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">change</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">))),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">comp</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">continuous_exp</span><span class="o">)</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="bp">@</span><span class="n">differentiable</span><span class="bp">.</span><span class="n">continuous</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span><span class="bp">-</span><span class="n">t</span><span class="o">)),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">ext</span> <span class="n">y</span><span class="o">,</span> <span class="n">rw</span> <span class="n">neg_sub</span><span class="o">,</span> <span class="n">rw</span> <span class="n">this</span><span class="o">,</span> <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">neg</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">apply</span> <span class="n">differentiable</span><span class="bp">.</span><span class="n">sub_const</span><span class="o">,</span> <span class="n">exact</span> <span class="n">differentiable_id&#39;</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span>
    <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">-</span><span class="o">(</span><span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">t</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>Combine the theorem above with induction we get for all $m\in\mathbb N$</p>
<p>
\[
I(f,t)=e^t\sum_{i=0}^m f^{(i)}(0)-\sum_{i=0}^m f^{(i)}(t)
\]

</p>


	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">II_integrate_by_part_m</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span>
    <span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span> <span class="bp">=</span> <span class="n">t</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="o">(</span><span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">),</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="mi">0</span><span class="o">))</span> <span class="bp">-</span> <span class="o">(</span><span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">),</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">II</span> <span class="o">(</span><span class="n">deriv_n</span> <span class="n">f</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>So the using if $f$ has degree $n$, then $f^{(n+1)}$ is zero we have the two definition of $I(f,t)$ agrees.</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">II_eq_I</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span> <span class="bp">=</span> <span class="n">I</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>
\[\left|I(f,t)\right|\le \int_0^t \left|e^{t-x}f(x)\right|\mathrm{d}x\]

</p>


	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">abs_II_le1</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">((</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>By our construction the $n$-th coefficient of $\bar{f}$ is the absolute value of $n$-th coefficient of $f$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">bar_coeff</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">true by definition</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">dsimp</span> <span class="o">[</span><span class="n">f_bar</span><span class="o">],</span> <span class="n">refl</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>By our construction, $\bar{f}$ and $f$ has the same support</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">bar_supp</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">:</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="mi">1</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">true by definition</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">dsimp</span> <span class="o">[</span><span class="n">f_bar</span><span class="o">],</span> <span class="n">refl</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>Since $\bar{f}$ and $f$ has the same support, they have the same degree.</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">bar_same_deg</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">:</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">degree is defined to be $\sup$ of support. Since support of $\bar{f}$ and $f$ are the same, their degree is the same.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">degree</span><span class="o">,</span> <span class="n">rw</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">degree</span><span class="o">,</span> <span class="n">rw</span> <span class="n">bar_supp</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">]</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">degree</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">degree</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>$\bar{0}=0$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">f_bar_0</span> <span class="o">:</span> <span class="n">f_bar</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>for any $f\in\mathbb Z$, if $\bar{f}=0$ then $f=0$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">f_bar_eq_0</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">:</span> <span class="n">f_bar</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">-&gt;</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>For any $x\in(0,t)$
$|f(x)|\le \bar{f}(t)$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">lemma</span> <span class="n">f_bar_ineq</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">If we write $f(X)=a_0+a_1X+\cdots+a_nX^n$. Then $f(x)=a_0+a_1x+\cdots+a_nx^n$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="o">[</span><span class="n">f_eval_on_ℝ</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">eval_map</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">eval₂</span><span class="o">,</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">sum</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">⇑</span><span class="bp">ℤ</span><span class="n">embℝ</span> <span class="o">(</span><span class="err">⇑</span><span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">a</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">apply</span> <span class="n">congr_arg</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">norm_cast</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">⇑</span><span class="bp">ℤ</span><span class="n">embℝ</span> <span class="o">(</span><span class="err">⇑</span><span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">a</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">lhs</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">So $|f(x)|=|a_0+a_1x+\cdots+a_nx^n|\le |a_0|+|a_1|x+\cdots+|a_n|x^n$. (We assumed $x\ge0$).</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="o">(</span><span class="n">abs</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">we have $|a_0+a_1x+\cdots+a_nx^n|\le|a_0|+|a_1x|+\cdots+|a_nx^n|$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">ineq1&#39;</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">finset</span><span class="bp">.</span><span class="n">abs_sum_le_sum_abs</span> <span class="n">ℝ</span> <span class="bp">ℕ</span> <span class="bp">_</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">))</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[]</span> <span class="n">at</span> <span class="n">ineq1&#39;</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">and $|a_0|+|a_1x|+\cdots+|a_nx^n|=|a_0|+|a_1|x+\cdots+|a_n|x^n$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">eq1</span> <span class="o">:</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">))</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">),</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">),</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">apply</span> <span class="n">congr_arg</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">rw</span> <span class="n">abs_mul</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">),</span>
<span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">rw</span> <span class="bp">@</span><span class="n">abs_of_nonneg</span> <span class="n">ℝ</span> <span class="bp">_</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="n">x_1</span><span class="o">)</span> <span class="bp">_</span><span class="o">,</span> <span class="n">apply</span> <span class="n">pow_nonneg</span><span class="o">,</span> <span class="n">exact</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">mem_Icc</span><span class="bp">.</span><span class="mi">1</span> <span class="n">hx</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">),</span>
<span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">),</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">eq1</span> <span class="n">at</span> <span class="n">ineq1&#39;</span><span class="o">,</span> <span class="n">exact</span> <span class="n">ineq1&#39;</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1&#39;</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">),</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">x_1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">x_1</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">$\bar{f}(t)=|a_0|+|a_1|t+\cdots+|a_n|t^n$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="o">[</span><span class="n">f_eval_on_ℝ</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">eval_map</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">eval₂</span><span class="o">,</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">sum</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">⇑</span><span class="bp">ℤ</span><span class="n">embℝ</span> <span class="o">(</span><span class="err">⇑</span><span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">a</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">apply</span> <span class="n">congr_arg</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">norm_cast</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">⇑</span><span class="bp">ℤ</span><span class="n">embℝ</span> <span class="o">(</span><span class="err">⇑</span><span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">a</span> <span class="bp">=</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">rhs</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Since $x^i\le t^i$, we have $|a_0|+|a_1|x+\cdots+|a_n|x^n\le|a_0|+|a_1|t+\cdots+|a_n|t^n$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">ineq2</span> <span class="o">:</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>  <span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq2</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq2</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">bar_supp</span><span class="o">,</span> <span class="n">apply</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_le_sum</span><span class="o">,</span> <span class="n">intros</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">suffices</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
<span class="err">⊢</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
<span class="err">⊢</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">apply</span> <span class="n">mul_le_mul</span><span class="o">,</span> <span class="n">exact</span> <span class="n">le_refl</span> <span class="o">(</span><span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">f</span> <span class="n">n</span><span class="o">)),</span> <span class="n">exact</span> <span class="n">this</span><span class="o">,</span> <span class="n">apply</span> <span class="n">pow_nonneg</span><span class="o">,</span> <span class="n">exact</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">mem_Icc</span><span class="bp">.</span><span class="mi">1</span> <span class="n">hx</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">exact</span> <span class="n">abs_nonneg</span> <span class="err">↑</span><span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">f</span> <span class="n">n</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
<span class="err">⊢</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">apply</span> <span class="n">pow_le_pow_of_le_left</span><span class="o">,</span> <span class="n">exact</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">mem_Icc</span><span class="bp">.</span><span class="mi">1</span> <span class="n">hx</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">exact</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">mem_Icc</span><span class="bp">.</span><span class="mi">1</span> <span class="n">hx</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
<span class="err">⊢</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq2</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">combine <code>ineq1</code> and <code>ineq2</code> we are done.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">exact</span> <span class="n">le_trans</span> <span class="n">ineq1</span> <span class="n">ineq2</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">lhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">rhs</span> <span class="o">:</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span><span class="o">,</span>
<span class="n">ineq2</span> <span class="o">:</span>
  <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="err">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span> <span class="n">abs</span> <span class="err">↑</span><span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">i</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">$|e^{t-x}f(x)|$ is composition of absolute value function and $e^{t-x}f(x)$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>      <span class="k">have</span> <span class="n">eq1</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">abs</span> <span class="err">∘</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">eq_self_iff_true</span><span class="o">],</span> <span class="n">rw</span> <span class="n">eq1</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">We know that absolute value function is continuous.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>      <span class="k">have</span> <span class="n">cont1</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">continuous_abs</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">We now prove that $e^{t-x}f(x)$ is continuous by proving $e^{t-x}$ and $f(x)$ are continuous.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>      <span class="k">have</span> <span class="n">cont2</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">),</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">cont2</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>      <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">cont2</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">$e^{t-x}$ is composition of $\exp$ and $t-x$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">)),</span> <span class="n">rw</span> <span class="n">eq2</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">$\exp$ is continuous</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">cont20</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">continuous_exp</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">$t-x$ is the constant function $t$ minus the identity function</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">eq3</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">),</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">id</span><span class="o">],</span> <span class="n">rw</span> <span class="n">eq3</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">eq3</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">constant function is continuous</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">cont3</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span> <span class="o">:</span><span class="n">ℝ</span><span class="o">,</span> <span class="n">t</span><span class="o">),</span> <span class="n">exact</span> <span class="n">continuous_const</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">eq3</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">eq3</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont3</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">identity function is continuous</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">cont3&#39;</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">@</span><span class="n">id</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">exact</span> <span class="n">continuous_id</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">eq3</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont3</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">eq3</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont3</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">),</span>
<span class="n">cont3&#39;</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">id</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">hence $t-x$ is continuous</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">cont33</span> <span class="o">:=</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">sub</span> <span class="n">cont3</span> <span class="n">cont3&#39;</span><span class="o">,</span> <span class="n">assumption</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">eq3</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont3</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">),</span>
<span class="n">cont3&#39;</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">id</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="bp">_</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span><span class="o">)</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">id</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">hence $e^{t-x}$ is continuous</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">exact</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">comp</span> <span class="n">cont20</span> <span class="n">cont201</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont20</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
<span class="n">cont201</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">evaluating a polynomial is continuous</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">cont4</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">,</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)),</span>
<span class="n">cont4</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>          <span class="n">unfold</span> <span class="n">f_eval_on_ℝ</span><span class="o">,</span> <span class="n">exact</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">continuous</span> <span class="o">(</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="bp">ℤ</span><span class="n">embℝ</span> <span class="n">f</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)),</span>
<span class="n">cont4</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)),</span>
<span class="n">cont4</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">hence the product is continuous</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">exact</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">mul</span> <span class="n">cont21</span> <span class="n">cont4</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">eq2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont21</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)),</span>
<span class="n">cont4</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>      <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">cont2</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>      <span class="n">exact</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">comp</span> <span class="n">cont1</span> <span class="n">cont2</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">eq1</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
<span class="n">cont1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">abs</span><span class="o">,</span>
<span class="n">cont2</span> <span class="o">:</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="n">abs</span> <span class="err">∘</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>$$
\int_0^t |e^{t-x}f(d)|\mathrm{d}x\le te^t\bar{f}(t)
$$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">private</span> <span class="kn">lemma</span> <span class="n">II_le2&#39;</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">((</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)))</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">t</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">we are using <code>integral_le_max_times_length</code> so we need to prove $|e^{t-x}f(x)|\le e^t\bar{f}(t)$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">ineq1</span> <span class="o">:=</span> <span class="n">integral_le_max_times_length</span> <span class="o">((</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">abs</span> <span class="o">((</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)))</span> <span class="mi">0</span> <span class="n">t</span> <span class="n">ht</span> <span class="o">(</span><span class="n">t</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span>
    <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">sub_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">ineq1</span><span class="o">,</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span>
    <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">triv</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="n">t</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">t</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">ring</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">),</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">rw</span> <span class="n">triv</span> <span class="n">at</span> <span class="n">ineq1</span><span class="o">,</span> <span class="n">exact</span> <span class="n">ineq1</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">),</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">This to prove the functions we used are measurable and integrable.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>      <span class="n">refine</span> <span class="n">continuous</span><span class="bp">.</span><span class="n">measurable</span> <span class="bp">_</span><span class="o">,</span> 
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">measurable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>      <span class="n">apply</span> <span class="n">continuous_exp_f</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">ht</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">continuous</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">This is to prove $0\le|e^{t-x}f(x)|$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">ge_iff_le</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">exact</span> <span class="n">abs_nonneg</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">This is to prove $|e^{t-x}f(x)|\le e^t \bar{f}(t)$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">set</span><span class="bp">.</span><span class="n">indicator</span><span class="o">,</span> <span class="n">set</span><span class="bp">.</span><span class="n">mem_Icc</span><span class="o">],</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span> <span class="bp">→</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">))</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">abs_mul</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">=</span> <span class="o">(</span><span class="n">t</span><span class="bp">-</span><span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span> <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">apply</span> <span class="n">abs_of_pos</span><span class="o">,</span> <span class="n">exact</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp_pos</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">rw</span> <span class="n">triv</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">We have $|f(x)|\le\bar{f}(t)$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">ineq1</span> <span class="o">:=</span> <span class="n">f_bar_ineq</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">We have $e^{t-x}\le e^{t}$</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="k">have</span> <span class="n">ineq2</span> <span class="o">:</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">≤</span> <span class="n">t</span><span class="bp">.</span><span class="n">exp</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">,</span>
<span class="n">ineq2</span> <span class="o">:</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">{</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="n">goals</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span>

<span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">,</span>
<span class="n">ineq2</span> <span class="o">:</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>            <span class="n">rw</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp_le_exp</span><span class="o">,</span> <span class="n">rw</span> <span class="n">sub_le</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">sub_self</span><span class="o">],</span> <span class="n">exact</span> <span class="n">hx</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">,</span>
<span class="n">ineq2</span> <span class="o">:</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>        <span class="n">exact</span> <span class="n">mul_le_mul</span> <span class="n">ineq2</span> <span class="n">ineq1</span> <span class="o">(</span><span class="n">abs_nonneg</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp_pos</span> <span class="n">t</span><span class="o">)),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">set</span><span class="bp">.</span><span class="n">Icc</span> <span class="mi">0</span> <span class="n">t</span><span class="o">,</span>
<span class="n">triv</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">))</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">,</span>
<span class="n">ineq2</span> <span class="o">:</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>$$|I(f,t)|\le te^t\bar{f}(t)$$</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span></span><span class="kn">theorem</span> <span class="n">abs_II_le2</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">t</span><span class="bp">.</span><span class="n">exp</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">combine <code>abs_II_le1</code> and previous lemma.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">ineq1</span> <span class="o">:=</span> <span class="o">(</span><span class="n">abs_II_le1</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="k">have</span> <span class="n">ineq2</span> <span class="o">:=</span> <span class="o">(</span><span class="n">II_le2&#39;</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq2</span> <span class="o">:</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre><span></span>    <span class="n">exact</span> <span class="n">le_trans</span> <span class="o">(</span><span class="n">abs_II_le1</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="o">(</span><span class="n">II_le2&#39;</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">[</span><span class="n">X</span><span class="o">],</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ht</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">ineq1</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">),</span>
<span class="n">ineq2</span> <span class="o">:</span> <span class="err">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">t</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="o">(</span><span class="n">t</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
<span class="err">⊢</span> <span class="n">abs</span> <span class="o">(</span><span class="n">II</span> <span class="n">f</span> <span class="n">t</span> <span class="n">ht</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">real</span><span class="bp">.</span><span class="n">exp</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">f_eval_on_ℝ</span> <span class="o">(</span><span class="n">f_bar</span> <span class="n">f</span><span class="o">)</span> <span class="n">t</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">goals</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
</div>
<div id="dragbar"></div>
<div id="tactic_state_wrapper">
  <h1 id="tactic_state_header">Tactic state</h1>
<div id="tactic_state">
</div>
</div>
</div>

<script src="jquery.min.js" type="text/javascript"></script>

<script src="jquery.min.js" type="text/javascript"></script>

<script src="lean.js" type="text/javascript"></script>

</body>
</html>
